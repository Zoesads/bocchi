var H=Object.defineProperty;var L=(s,n,t)=>n in s?H(s,n,{enumerable:!0,configurable:!0,writable:!0,value:t}):s[n]=t;var r=(s,n,t)=>(L(s,typeof n!="symbol"?n+"":n,t),t);(function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))e(i);new MutationObserver(i=>{for(const a of i)if(a.type==="childList")for(const l of a.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&e(l)}).observe(document,{childList:!0,subtree:!0});function t(i){const a={};return i.integrity&&(a.integrity=i.integrity),i.referrerPolicy&&(a.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?a.credentials="include":i.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function e(i){if(i.ep)return;i.ep=!0;const a=t(i);fetch(i.href,a)}})();class C{constructor(n,t){r(this,"name");r(this,"size");this.name=n,this.size=t}}class w{constructor(n,t,e,i,a,l=0,g=0,p=0,k=0){r(this,"x");r(this,"y");r(this,"w");r(this,"h");r(this,"color");r(this,"radius");this.x=n,this.y=t,this.w=e,this.h=i,this.color=a,this.radius={tl:g,tr:l,bl:k,br:p}}}class h extends w{constructor(t,e,i,a,l,g,p,k,N="",P=0,T=0,A=0,E=0){super(t,e,i,a,l,P,T,A,E);r(this,"font");r(this,"fg_color");r(this,"text");this.font=new C(p,k),this.text=N,this.fg_color=g}}class z{constructor(n=512,t=512){r(this,"canvas");r(this,"ctx");r(this,"draw_list");r(this,"object_creation_counter");this.object_creation_counter=0,this.canvas=document.createElement("canvas"),this.canvas.width=n,this.canvas.height=t,this.draw_list=new Map,this.ctx=this.canvas.getContext("2d"),console.log("initialized COPE ðŸš‚ðŸŒ«ðŸŒ«")}async __SHA256(n){const t=new TextEncoder().encode(n),e=await crypto.subtle.digest("SHA-256",t);return Array.from(new Uint8Array(e)).map(a=>a.toString(16).padStart(2,"0")).join("")}async DrawRectangle(n){let t=this.__SHA256(this.object_creation_counter.toString());return t.then(e=>{this.draw_list.set(e,{val:n,type:1}),++this.object_creation_counter}),t}async DrawRectText(n){let t=this.__SHA256(this.object_creation_counter.toString());return t.then(e=>{this.draw_list.set(e,{val:n,type:0}),++this.object_creation_counter}),t}eraseObject(n){this.draw_list.has(n)&&this.draw_list.delete(n)}Update(){this.ctx.clearRect(0,0,this.canvas.width,this.canvas.height),this.draw_list.forEach(n=>{switch(n.type){case 1:{const t=n.val;this.ctx.fillStyle=t.color,this.ctx.beginPath(),this.ctx.roundRect(t.x,t.y,t.w,t.h,[t.radius.tl,t.radius.tr,t.radius.bl,t.radius.br]),this.ctx.closePath(),this.ctx.fill();break}case 0:{const t=n.val;this.ctx.fillStyle=t.color,this.ctx.beginPath(),this.ctx.roundRect(t.x,t.y,t.w,t.h,[t.radius.tl,t.radius.tr,t.radius.bl,t.radius.br]),this.ctx.closePath(),this.ctx.fill(),this.ctx.font=`${t.font.size}px ${t.font.name}`,this.ctx.fillStyle=t.fg_color,this.ctx.fillText(t.text,t.x+(t.w>>4),t.y+(t.h>>1));break}}})}}const O=document.getElementById("to_mount");if(O==null)throw Error("unable to mount engine");const o=new z(window.innerWidth,window.innerHeight);O.appendChild(o.canvas);const c=window.innerWidth,v=window.innerHeight,F=new w(0,0,c,v,"#5d768c"),U=new w(0,0,c,50,"#9cca7b",0,0,8,8),q=new h(25,35,0,0,"#000000","#ffed43","Nunito",25,"Hi Bocchi, today is "+new Date().toLocaleDateString("en-US",{weekday:"long",day:"numeric",month:"long",year:"numeric"})),_=new h(c-100,32,0,0,"#000000","#ffed43","Nunito",22,"About"),f=new h(c-220,32,0,0,"#000000","#ffed43","Nunito",22,"New task"),B=new w(5,60,258+(c>>1),v,"#e0a3b3",5,5,5,5),I=new w(5,60,258+(c>>1),55,"#e4adbb",5,5,0,0),M=new h(350,95,0,0,"#000000","#3898ec","Nunito",25,"Ongoing task"),W=new w(c-((c>>1)-272),60,(c>>1)-275,v,"#e0a3b3",5,5,5,5),$=new w(c-((c>>1)-272),60,(c>>1)-275,55,"#e4adbb",5,5,0,0),K=new h(c-((c>>2)-95),95,0,0,"#000000","#3898ec","Nunito",25,"Pending");await o.DrawRectangle(F);await o.DrawRectangle(U);await o.DrawRectText(q);await o.DrawRectText(_);await o.DrawRectText(f);await o.DrawRectangle(B);await o.DrawRectangle(I);await o.DrawRectText(M);await o.DrawRectangle(W);await o.DrawRectangle($);await o.DrawRectText(K);let b={},y={},x=!1,d=0,u=0;window.onmousedown=s=>{s.button==0&&(x=!0,d=s.clientX,u=s.clientY)};let m=!1,R=!1,D=!1,S=!1;window.onmouseup=s=>{s.button==0&&(x=!1,m=!1,R=!1,D=!1,S=!1)};async function j(){let s=0;for(let t in b){const e=b[t];if(!S&&x&&d>=e.background.x&&d<=e.background.x+e.background.w&&u>=e.background.y&&u<=e.background.y+e.background.h){o.eraseObject(e._bg_id),o.eraseObject(e._txt_id),delete b[t];let i=new w(-9999,-9999,248+(c>>1),50,"#ff958f",5,5,5,5),a=new h(-9999,-9999,0,0,"#000000","#000000","Nunito",20,e.text.text),l=await o.DrawRectangle(i),g=await o.DrawRectText(a);y[l]={background:i,text:a,_bg_id:l,_txt_id:g},S=!0;continue}e.background.x=c-((c>>1)-272)+5,e.background.y=s+120,e.text.x=c-((c>>1)-272)+10,e.text.y=s+150,s+=55}let n=0;for(let t in y){const e=y[t];if(!D&&x&&d>=e.background.x&&d<=e.background.x+e.background.w&&u>=e.background.y&&u<=e.background.y+e.background.h){o.eraseObject(e._bg_id),o.eraseObject(e._txt_id),delete y[t],D=!0;continue}e.background.x=10,e.background.y=n+120,e.text.x=15,e.text.y=n+150,n+=55}if(o.Update(),x&&(!m&&d>=_.x&&d<=_.x+50&&u>=_.y-20&&u<=_.y+10&&(alert("From team 1 with love ðŸ’–"),m=!0),!R&&d>=f.x&&d<=f.x+100&&u>=f.y-20&&u<=f.y+10)){let t=String(prompt("Enter your new task")),e=new w(-9999,-9999,(c>>1)-285,50,"#947e7c",5,5,5,5),i=new h(-9999,-9999,0,0,"#000000","#000000","Nunito",20,t),a=await o.DrawRectangle(e),l=await o.DrawRectText(i);b[a]={background:e,text:i,_bg_id:a,_txt_id:l},R=!0}window.requestAnimationFrame(j)}await j();
